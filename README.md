# BF-x86asm-compiler

A Brainfuck toolchain written in x86 assembly, featuring both an **interpreter** and a **compiler** that emits native ELF executables for Linux.

## Overview

BF-x86asm-compiler provides two implementations:
- **Compiler**: A minimalistic compiler that translates Brainfuck directly into raw ELF/x86 machine code, producing standalone executables with no runtime dependency other than Linux syscalls.

- **Interpreter**:  A fast threaded-code interpreter with REPL support, written in 32-bit x86 assembly.  

### Dependencies
- GNU Assembler (`as`)
- GNU Linker (`ld`) 
- Standard C library (`libc`) - for interpreter build only
- 32-bit support on 64-bit systems (install `gcc-multilib` if needed)
### Compiler (`bf_compiler`)

* Compiles Brainfuck to native ELF executables 
### Memory Layout (compiler-generated executables)

* **Tape**: 30,000 bytes (Brainfuck standard).
* **Input buffer**: 64 KB (for source loading).
* **Code buffer**: 512 KB (for generated x86 machine code).


## File Structure
```
.
├── bf_compiler         # Brainfuck compiler executable
├── bf_interpreter      # Brainfuck interpreter executable
├── examples/           # Sample Brainfuck programs
├── obj/                # Object files from build
├── src/                # Assembly source files
│   ├── bf_interpreter.s
│   └── bf_compiler.s
├── makefile            # Build rules
└── test.bf             # Simple test program
```

## Build
Build everything:

```sh
make
```

Build only the compiler:

```sh
make compiler
```

Build only the interpreter:

```sh
make interpreter
```

Clean:

```sh
make clean
```
## Usage

### Compiler Mode
```bash
# Compile Brainfuck source to executable
./bf_compiler examples/helloworld.bf

# Run the generated executable  
./a.out
```

### Interpreter Mode
```bash
# Run file through interpreter
./bf_interpreter examples/program.bf

# Interactive REPL
./bf_interpreter
```
##  Limitations
- Linux x86 only (uses Linux syscalls and ELF format)
- No bounds checking on tape access in compiler
- Generated executables require 32-bit runtime support
- Interpreter requires libc

## TODO
- Optimize common Brainfuck idioms: [-] [->+<]
- Add wrap around for the executable generated by the compiler
